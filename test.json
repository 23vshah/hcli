
{
  "phy_chunks": {
    "main": {
      "id": "main",
      "type": "module",
      "children": [
        {
          "id": "imports",
          "type": "import_statements",
          "description": "import json and typing utilities (List, Dict, Optional)",
          "line_range": [1, 2]
        },
        {
          "id": "class_Task",
          "type": "class_definition",
          "signature": "class Task",
          "children": [
            {
              "id": "Task___init__",
              "type": "method_definition",
              "signature": "constructor __init__(takes title, description, done)",
              "description": "initialize task with title, description, done status, and empty subtasks list",
              "line_range": [6, 10]
            },
            {
              "id": "Task_add_subtask",
              "type": "method_definition",
              "signature": "method add_subtask(takes subtask)",
              "description": "append the given subtask to this task's subtasks list",
              "line_range": [12, 13]
            },
            {
              "id": "Task_mark_done",
              "type": "method_definition",
              "signature": "method mark_done()",
              "children": [
                {
                  "id": "mark_self_done",
                  "type": "assignment",
                  "description": "set this task's done status to True",
                  "line_range": [16, 16]
                },
                {
                  "id": "mark_subtasks_done",
                  "type": "for_loop",
                  "description": "iterate through all subtasks and mark each one done",
                  "line_range": [17, 18]
                }
              ]
            },
            {
              "id": "Task_to_dict",
              "type": "method_definition",
              "signature": "method to_dict()",
              "description": "return a dictionary representation with title, description, done status, and recursively converted subtasks",
              "line_range": [20, 26]
            },
            {
              "id": "Task___str__",
              "type": "method_definition",
              "signature": "method __str__(takes level)",
              "children": [
                {
                  "id": "format_setup",
                  "type": "assignments",
                  "description": "create indentation based on level, determine status symbol ([x] or [ ]), and format the main task line",
                  "line_range": [29, 31]
                },
                {
                  "id": "append_subtasks",
                  "type": "for_loop",
                  "description": "iterate through subtasks and append their string representations with increased indentation level",
                  "line_range": [32, 33]
                },
                {
                  "id": "return_result",
                  "type": "return_statement",
                  "description": "return the formatted task hierarchy string",
                  "line_range": [34, 34]
                }
              ]
            }
          ]
        },
        {
          "id": "class_TaskManager",
          "type": "class_definition",
          "signature": "class TaskManager",
          "children": [
            {
              "id": "TaskManager___init__",
              "type": "method_definition",
              "signature": "constructor __init__()",
              "description": "initialize with an empty list of tasks",
              "line_range": [38, 39]
            },
            {
              "id": "TaskManager_add_task",
              "type": "method_definition",
              "signature": "method add_task(takes title, description)",
              "description": "create a new Task, add it to the tasks list, and return the created task",
              "line_range": [41, 44]
            },
            {
              "id": "TaskManager_find_task",
              "type": "method_definition",
              "signature": "method find_task(takes title)",
              "children": [
                {
                  "id": "function__find",
                  "type": "function_definition",
                  "signature": "nested function _find(takes task_list)",
                  "children": [
                    {
                      "id": "recursive_search",
                      "type": "for_loop",
                      "description": "iterate through tasks, return immediately if title matches, otherwise recursively search subtasks and return if found",
                      "line_range": [48, 53]
                    },
                    {
                      "id": "not_found",
                      "type": "return_statement",
                      "description": "return None if task not found",
                      "line_range": [54, 54]
                    }
                  ]
                },
                {
                  "id": "call_find",
                  "type": "return_statement",
                  "description": "call the nested _find function with the manager's tasks list",
                  "line_range": [56, 56]
                }
              ]
            },
            {
              "id": "TaskManager_mark_done",
              "type": "method_definition",
              "signature": "method mark_done(takes title)",
              "children": [
                {
                  "id": "find_and_mark",
                  "type": "assignment",
                  "description": "find the task by title",
                  "line_range": [59, 59]
                },
                {
                  "id": "conditional_mark",
                  "type": "if_statement",
                  "description": "if task exists, mark it done and return True, otherwise return False",
                  "line_range": [60, 63]
                }
              ]
            },
            {
              "id": "TaskManager_export_to_json",
              "type": "method_definition",
              "signature": "method export_to_json(takes file_name)",
              "description": "export tasks to JSON file using with statement",
              "line_range": [65, 67]
            },
            {
              "id": "TaskManager___str__",
              "type": "method_definition",
              "signature": "method __str__()",
              "children": [
                {
                  "id": "init_result",
                  "type": "assignment",
                  "description": "initialize empty result string",
                  "line_range": [70, 70]
                },
                {
                  "id": "concatenate_tasks",
                  "type": "for_loop",
                  "description": "iterate through all tasks and append their string representations to result",
                  "line_range": [71, 72]
                },
                {
                  "id": "return_formatted",
                  "type": "return_statement",
                  "description": "return the concatenated task strings",
                  "line_range": [73, 73]
                }
              ]
            }
          ]
        },
        {
          "id": "main_execution",
          "type": "if_statement",
          "description": "when run as main: create TaskManager, add study and workout tasks with nested subtasks, mark one task done, print the hierarchy, export to JSON, and confirm export completion",
          "line_range": [76, 107]
        }
      ]
    }
  }
}

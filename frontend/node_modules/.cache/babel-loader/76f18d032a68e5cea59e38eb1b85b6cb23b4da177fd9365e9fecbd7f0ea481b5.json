{"ast":null,"code":"var _jsxFileName = \"/Users/krishnapagrut/Developer/hcli/frontend/src/components/SubmitButton.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Send, Loader, CheckCircle, XCircle, AlertTriangle } from 'lucide-react';\nimport { useStore } from '../hooks/useStore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SubmitButton = () => {\n  _s();\n  const {\n    repository,\n    applyPhyChanges\n  } = useStore();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitStatus, setSubmitStatus] = useState('idle');\n  const [submitMessage, setSubmitMessage] = useState('');\n  const handleSubmit = async () => {\n    if (!repository.selectedFile) return;\n    setIsSubmitting(true);\n    setSubmitStatus('idle');\n    setSubmitMessage('Applying changes...');\n    try {\n      // Use the new applyPhyChanges function from the store\n      await applyPhyChanges(repository.selectedFile);\n      setSubmitStatus('success');\n      setSubmitMessage('PHY changes applied successfully!');\n\n      // Reload the current file to show updated content instead of refreshing the page\n      setTimeout(async () => {\n        try {\n          await selectFile(repository.selectedFile);\n          setSubmitStatus('idle');\n          setSubmitMessage('');\n        } catch (error) {\n          console.error('Failed to reload file:', error);\n          setSubmitStatus('warning');\n          setSubmitMessage('Changes applied but failed to reload file. Please refresh manually.');\n        }\n      }, 2000);\n    } catch (error) {\n      setSubmitStatus('error');\n      setSubmitMessage(error instanceof Error ? error.message : 'Unknown error occurred');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const getButtonVariant = () => {\n    switch (submitStatus) {\n      case 'success':\n        return 'bg-green-600 hover:bg-green-700 text-white';\n      case 'error':\n        return 'bg-red-600 hover:bg-red-700 text-white';\n      case 'warning':\n        return 'bg-yellow-600 hover:bg-yellow-700 text-white';\n      default:\n        return 'bg-primary-600 hover:bg-primary-700 text-white';\n    }\n  };\n  const getButtonIcon = () => {\n    if (isSubmitting) {\n      return /*#__PURE__*/_jsxDEV(Loader, {\n        className: \"h-4 w-4 animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 14\n      }, this);\n    }\n    switch (submitStatus) {\n      case 'success':\n        return /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 16\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(XCircle, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 16\n        }, this);\n      case 'warning':\n        return /*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Send, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getButtonText = () => {\n    if (isSubmitting) return 'Applying Changes...';\n    switch (submitStatus) {\n      case 'success':\n        return 'Changes Applied Successfully';\n      case 'error':\n        return 'Apply Changes';\n      case 'warning':\n        return 'Apply Changes';\n      default:\n        return 'Apply Changes';\n    }\n  };\n  const isDisabled = !repository.selectedFile || isSubmitting;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white border-t border-neutral-200 px-4 py-3\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          disabled: isDisabled,\n          className: `flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed ${getButtonVariant()}`,\n          children: [getButtonIcon(), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: getButtonText()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), repository.selectedFile && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-neutral-600\",\n          children: \"Ready to apply PHY changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), submitMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `text-sm px-3 py-1 rounded-md ${submitStatus === 'success' ? 'bg-green-50 text-green-700' : submitStatus === 'error' ? 'bg-red-50 text-red-700' : submitStatus === 'warning' ? 'bg-yellow-50 text-yellow-700' : 'bg-neutral-50 text-neutral-700'}`,\n        children: submitMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n_s(SubmitButton, \"GTjKfK8fZtOLJ2vYIIeLHNx4D4Q=\", false, function () {\n  return [useStore];\n});\n_c = SubmitButton;\nexport default SubmitButton;\nvar _c;\n$RefreshReg$(_c, \"SubmitButton\");","map":{"version":3,"names":["React","useState","Send","Loader","CheckCircle","XCircle","AlertTriangle","useStore","jsxDEV","_jsxDEV","SubmitButton","_s","repository","applyPhyChanges","isSubmitting","setIsSubmitting","submitStatus","setSubmitStatus","submitMessage","setSubmitMessage","handleSubmit","selectedFile","setTimeout","selectFile","error","console","Error","message","getButtonVariant","getButtonIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","getButtonText","isDisabled","children","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/krishnapagrut/Developer/hcli/frontend/src/components/SubmitButton.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Send, Loader, CheckCircle, XCircle, AlertTriangle } from 'lucide-react';\nimport { useStore } from '../hooks/useStore';\n\nconst SubmitButton: React.FC = () => {\n  const { repository, applyPhyChanges } = useStore();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitStatus, setSubmitStatus] = useState<'idle' | 'success' | 'error' | 'warning'>('idle');\n  const [submitMessage, setSubmitMessage] = useState('');\n\n  const handleSubmit = async () => {\n    if (!repository.selectedFile) return;\n\n    setIsSubmitting(true);\n    setSubmitStatus('idle');\n    setSubmitMessage('Applying changes...');\n\n    try {\n      // Use the new applyPhyChanges function from the store\n      await applyPhyChanges(repository.selectedFile);\n      \n      setSubmitStatus('success');\n      setSubmitMessage('PHY changes applied successfully!');\n      \n      // Reload the current file to show updated content instead of refreshing the page\n      setTimeout(async () => {\n        try {\n          await selectFile(repository.selectedFile!);\n          setSubmitStatus('idle');\n          setSubmitMessage('');\n        } catch (error) {\n          console.error('Failed to reload file:', error);\n          setSubmitStatus('warning');\n          setSubmitMessage('Changes applied but failed to reload file. Please refresh manually.');\n        }\n      }, 2000);\n    } catch (error) {\n      setSubmitStatus('error');\n      setSubmitMessage(error instanceof Error ? error.message : 'Unknown error occurred');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const getButtonVariant = () => {\n    switch (submitStatus) {\n      case 'success':\n        return 'bg-green-600 hover:bg-green-700 text-white';\n      case 'error':\n        return 'bg-red-600 hover:bg-red-700 text-white';\n      case 'warning':\n        return 'bg-yellow-600 hover:bg-yellow-700 text-white';\n      default:\n        return 'bg-primary-600 hover:bg-primary-700 text-white';\n    }\n  };\n\n  const getButtonIcon = () => {\n    if (isSubmitting) {\n      return <Loader className=\"h-4 w-4 animate-spin\" />;\n    }\n    \n    switch (submitStatus) {\n      case 'success':\n        return <CheckCircle className=\"h-4 w-4\" />;\n      case 'error':\n        return <XCircle className=\"h-4 w-4\" />;\n      case 'warning':\n        return <AlertTriangle className=\"h-4 w-4\" />;\n      default:\n        return <Send className=\"h-4 w-4\" />;\n    }\n  };\n\n  const getButtonText = () => {\n    if (isSubmitting) return 'Applying Changes...';\n    \n    switch (submitStatus) {\n      case 'success':\n        return 'Changes Applied Successfully';\n      case 'error':\n        return 'Apply Changes';\n      case 'warning':\n        return 'Apply Changes';\n      default:\n        return 'Apply Changes';\n    }\n  };\n\n  const isDisabled = !repository.selectedFile || isSubmitting;\n\n  return (\n    <div className=\"bg-white border-t border-neutral-200 px-4 py-3\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <button\n            onClick={handleSubmit}\n            disabled={isDisabled}\n            className={`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed ${getButtonVariant()}`}\n          >\n            {getButtonIcon()}\n            <span>{getButtonText()}</span>\n          </button>\n          \n          {repository.selectedFile && (\n            <span className=\"text-sm text-neutral-600\">\n              Ready to apply PHY changes\n            </span>\n          )}\n        </div>\n        \n        {submitMessage && (\n          <div className={`text-sm px-3 py-1 rounded-md ${\n            submitStatus === 'success' ? 'bg-green-50 text-green-700' :\n            submitStatus === 'error' ? 'bg-red-50 text-red-700' :\n            submitStatus === 'warning' ? 'bg-yellow-50 text-yellow-700' :\n            'bg-neutral-50 text-neutral-700'\n          }`}>\n            {submitMessage}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SubmitButton;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
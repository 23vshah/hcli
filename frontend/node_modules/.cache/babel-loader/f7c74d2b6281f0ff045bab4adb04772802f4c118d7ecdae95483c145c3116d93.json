{"ast":null,"code":"var _jsxFileName = \"/Users/krishnapagrut/Developer/hcli/frontend/src/components/SubmitButton.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Send, Loader, CheckCircle, XCircle, AlertTriangle } from 'lucide-react';\nimport { useStore } from '../hooks/useStore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SubmitButton = () => {\n  _s();\n  const {\n    editor,\n    repository,\n    applyChanges\n  } = useStore();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitStatus, setSubmitStatus] = useState('idle');\n  const [submitMessage, setSubmitMessage] = useState('');\n  const handleSubmit = async () => {\n    if (!repository.selectedFile) return;\n    setIsSubmitting(true);\n    setSubmitStatus('idle');\n    setSubmitMessage('Applying changes...');\n    try {\n      // Use the new applyChanges function from the store\n      await applyChanges(repository.selectedFile);\n      setSubmitStatus('success');\n      setSubmitMessage('Changes applied successfully!');\n\n      // Reload the file to show updated content\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n    } catch (error) {\n      setSubmitStatus('error');\n      setSubmitMessage(error instanceof Error ? error.message : 'Unknown error occurred');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const getButtonVariant = () => {\n    switch (submitStatus) {\n      case 'success':\n        return 'bg-green-600 hover:bg-green-700 text-white';\n      case 'error':\n        return 'bg-red-600 hover:bg-red-700 text-white';\n      case 'warning':\n        return 'bg-yellow-600 hover:bg-yellow-700 text-white';\n      default:\n        return 'bg-primary-600 hover:bg-primary-700 text-white';\n    }\n  };\n  const getButtonIcon = () => {\n    if (isSubmitting) {\n      return /*#__PURE__*/_jsxDEV(Loader, {\n        className: \"h-4 w-4 animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 14\n      }, this);\n    }\n    switch (submitStatus) {\n      case 'success':\n        return /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 16\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(XCircle, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 16\n        }, this);\n      case 'warning':\n        return /*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Send, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getButtonText = () => {\n    if (isSubmitting) return 'Applying Changes...';\n    switch (submitStatus) {\n      case 'success':\n        return 'Changes Applied Successfully';\n      case 'error':\n        return 'Apply Changes';\n      case 'warning':\n        return 'Apply Changes';\n      default:\n        return 'Apply Changes';\n    }\n  };\n  const isDisabled = !repository.selectedFile || editor.diffs.length === 0 || isSubmitting;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white border-t border-neutral-200 px-4 py-3\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          disabled: isDisabled,\n          className: `flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed ${getButtonVariant()}`,\n          children: [getButtonIcon(), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: getButtonText()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), editor.diffs.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-neutral-600\",\n          children: [editor.diffs.length, \" change\", editor.diffs.length !== 1 ? 's' : '', \" pending\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), submitMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `text-sm px-3 py-1 rounded-md ${submitStatus === 'success' ? 'bg-green-50 text-green-700' : submitStatus === 'error' ? 'bg-red-50 text-red-700' : submitStatus === 'warning' ? 'bg-yellow-50 text-yellow-700' : 'bg-neutral-50 text-neutral-700'}`,\n        children: submitMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n_s(SubmitButton, \"LwtokXKfyNNEd7Uc1MXP11dmiuo=\", false, function () {\n  return [useStore];\n});\n_c = SubmitButton;\nexport default SubmitButton;\nvar _c;\n$RefreshReg$(_c, \"SubmitButton\");","map":{"version":3,"names":["React","useState","Send","Loader","CheckCircle","XCircle","AlertTriangle","useStore","jsxDEV","_jsxDEV","SubmitButton","_s","editor","repository","applyChanges","isSubmitting","setIsSubmitting","submitStatus","setSubmitStatus","submitMessage","setSubmitMessage","handleSubmit","selectedFile","setTimeout","window","location","reload","error","Error","message","getButtonVariant","getButtonIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","getButtonText","isDisabled","diffs","length","children","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/krishnapagrut/Developer/hcli/frontend/src/components/SubmitButton.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Send, Loader, CheckCircle, XCircle, AlertTriangle } from 'lucide-react';\nimport { useStore } from '../hooks/useStore';\n\nconst SubmitButton: React.FC = () => {\n  const { editor, repository, applyChanges } = useStore();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitStatus, setSubmitStatus] = useState<'idle' | 'success' | 'error' | 'warning'>('idle');\n  const [submitMessage, setSubmitMessage] = useState('');\n\n  const handleSubmit = async () => {\n    if (!repository.selectedFile) return;\n\n    setIsSubmitting(true);\n    setSubmitStatus('idle');\n    setSubmitMessage('Applying changes...');\n\n    try {\n      // Use the new applyChanges function from the store\n      await applyChanges(repository.selectedFile);\n      \n      setSubmitStatus('success');\n      setSubmitMessage('Changes applied successfully!');\n      \n      // Reload the file to show updated content\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n    } catch (error) {\n      setSubmitStatus('error');\n      setSubmitMessage(error instanceof Error ? error.message : 'Unknown error occurred');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const getButtonVariant = () => {\n    switch (submitStatus) {\n      case 'success':\n        return 'bg-green-600 hover:bg-green-700 text-white';\n      case 'error':\n        return 'bg-red-600 hover:bg-red-700 text-white';\n      case 'warning':\n        return 'bg-yellow-600 hover:bg-yellow-700 text-white';\n      default:\n        return 'bg-primary-600 hover:bg-primary-700 text-white';\n    }\n  };\n\n  const getButtonIcon = () => {\n    if (isSubmitting) {\n      return <Loader className=\"h-4 w-4 animate-spin\" />;\n    }\n    \n    switch (submitStatus) {\n      case 'success':\n        return <CheckCircle className=\"h-4 w-4\" />;\n      case 'error':\n        return <XCircle className=\"h-4 w-4\" />;\n      case 'warning':\n        return <AlertTriangle className=\"h-4 w-4\" />;\n      default:\n        return <Send className=\"h-4 w-4\" />;\n    }\n  };\n\n  const getButtonText = () => {\n    if (isSubmitting) return 'Applying Changes...';\n    \n    switch (submitStatus) {\n      case 'success':\n        return 'Changes Applied Successfully';\n      case 'error':\n        return 'Apply Changes';\n      case 'warning':\n        return 'Apply Changes';\n      default:\n        return 'Apply Changes';\n    }\n  };\n\n  const isDisabled = !repository.selectedFile || editor.diffs.length === 0 || isSubmitting;\n\n  return (\n    <div className=\"bg-white border-t border-neutral-200 px-4 py-3\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <button\n            onClick={handleSubmit}\n            disabled={isDisabled}\n            className={`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed ${getButtonVariant()}`}\n          >\n            {getButtonIcon()}\n            <span>{getButtonText()}</span>\n          </button>\n          \n          {editor.diffs.length > 0 && (\n            <span className=\"text-sm text-neutral-600\">\n              {editor.diffs.length} change{editor.diffs.length !== 1 ? 's' : ''} pending\n            </span>\n          )}\n        </div>\n        \n        {submitMessage && (\n          <div className={`text-sm px-3 py-1 rounded-md ${\n            submitStatus === 'success' ? 'bg-green-50 text-green-700' :\n            submitStatus === 'error' ? 'bg-red-50 text-red-700' :\n            submitStatus === 'warning' ? 'bg-yellow-50 text-yellow-700' :\n            'bg-neutral-50 text-neutral-700'\n          }`}>\n            {submitMessage}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SubmitButton;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
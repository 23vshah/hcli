{"ast":null,"code":"import React from'react';import{GitBranch,Plus,Minus,Edit3}from'lucide-react';import{useStore}from'../hooks/useStore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DiffViewer=()=>{const{editor}=useStore();const getDiffIcon=type=>{switch(type){case'added':return/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 text-green-600\"});case'removed':return/*#__PURE__*/_jsx(Minus,{className:\"h-4 w-4 text-red-600\"});case'modified':return/*#__PURE__*/_jsx(Edit3,{className:\"h-4 w-4 text-yellow-600\"});default:return/*#__PURE__*/_jsx(Edit3,{className:\"h-4 w-4 text-neutral-600\"});}};const getDiffColor=type=>{switch(type){case'added':return'bg-green-50 border-green-200';case'removed':return'bg-red-50 border-red-200';case'modified':return'bg-yellow-50 border-yellow-200';default:return'bg-neutral-50 border-neutral-200';}};const getDiffTextColor=type=>{switch(type){case'added':return'text-green-800';case'removed':return'text-red-800';case'modified':return'text-yellow-800';default:return'text-neutral-800';}};if(editor.diffs.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"w-80 bg-white border-l border-neutral-200 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center px-4 py-2 bg-neutral-50 border-b border-neutral-200\",children:[/*#__PURE__*/_jsx(GitBranch,{className:\"h-4 w-4 text-neutral-500 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-neutral-700\",children:\"Changes\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-neutral-500\",children:[/*#__PURE__*/_jsx(GitBranch,{className:\"h-12 w-12 mx-auto mb-3 text-neutral-300\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No changes detected\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1\",children:\"Edit the PHY file to see diffs\"})]})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"w-80 bg-white border-l border-neutral-200 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-4 py-2 bg-neutral-50 border-b border-neutral-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(GitBranch,{className:\"h-4 w-4 text-neutral-500 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-neutral-700\",children:\"Changes\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-neutral-500\",children:[editor.diffs.length,\" change\",editor.diffs.length!==1?'s':'']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto\",children:editor.diffs.map((diff,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-neutral-100 p-3 \".concat(getDiffColor(diff.type)),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 mt-0.5\",children:getDiffIcon(diff.type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium \".concat(getDiffTextColor(diff.type)),children:diff.type.charAt(0).toUpperCase()+diff.type.slice(1)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-neutral-500\",children:[\"Lines \",diff.lineRange[0],\"-\",diff.lineRange[1]]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-neutral-600 mb-2\",children:diff.description}),diff.originalContent&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-neutral-500 mb-1\",children:\"Original:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-neutral-100 rounded px-2 py-1 text-xs font-mono text-neutral-700\",children:diff.originalContent})]}),diff.modifiedContent&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-neutral-500 mb-1\",children:\"Modified:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-neutral-100 rounded px-2 py-1 text-xs font-mono text-neutral-700\",children:diff.modifiedContent})]})]})]})},index))})]});};export default DiffViewer;","map":{"version":3,"names":["React","GitBranch","Plus","Minus","Edit3","useStore","jsx","_jsx","jsxs","_jsxs","DiffViewer","editor","getDiffIcon","type","className","getDiffColor","getDiffTextColor","diffs","length","children","map","diff","index","concat","charAt","toUpperCase","slice","lineRange","description","originalContent","modifiedContent"],"sources":["/Users/krishnapagrut/Developer/hcli/frontend/src/components/DiffViewer.tsx"],"sourcesContent":["import React from 'react';\nimport { GitBranch, Plus, Minus, Edit3 } from 'lucide-react';\nimport { useStore } from '../hooks/useStore';\nimport { DiffChange } from '../types';\n\nconst DiffViewer: React.FC = () => {\n  const { editor } = useStore();\n\n  const getDiffIcon = (type: string) => {\n    switch (type) {\n      case 'added':\n        return <Plus className=\"h-4 w-4 text-green-600\" />;\n      case 'removed':\n        return <Minus className=\"h-4 w-4 text-red-600\" />;\n      case 'modified':\n        return <Edit3 className=\"h-4 w-4 text-yellow-600\" />;\n      default:\n        return <Edit3 className=\"h-4 w-4 text-neutral-600\" />;\n    }\n  };\n\n  const getDiffColor = (type: string) => {\n    switch (type) {\n      case 'added':\n        return 'bg-green-50 border-green-200';\n      case 'removed':\n        return 'bg-red-50 border-red-200';\n      case 'modified':\n        return 'bg-yellow-50 border-yellow-200';\n      default:\n        return 'bg-neutral-50 border-neutral-200';\n    }\n  };\n\n  const getDiffTextColor = (type: string) => {\n    switch (type) {\n      case 'added':\n        return 'text-green-800';\n      case 'removed':\n        return 'text-red-800';\n      case 'modified':\n        return 'text-yellow-800';\n      default:\n        return 'text-neutral-800';\n    }\n  };\n\n  if (editor.diffs.length === 0) {\n    return (\n      <div className=\"w-80 bg-white border-l border-neutral-200 flex flex-col\">\n        <div className=\"flex items-center px-4 py-2 bg-neutral-50 border-b border-neutral-200\">\n          <GitBranch className=\"h-4 w-4 text-neutral-500 mr-2\" />\n          <span className=\"text-sm font-medium text-neutral-700\">Changes</span>\n        </div>\n        \n        <div className=\"flex-1 flex items-center justify-center\">\n          <div className=\"text-center text-neutral-500\">\n            <GitBranch className=\"h-12 w-12 mx-auto mb-3 text-neutral-300\" />\n            <p className=\"text-sm\">No changes detected</p>\n            <p className=\"text-xs mt-1\">Edit the PHY file to see diffs</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-80 bg-white border-l border-neutral-200 flex flex-col\">\n      <div className=\"flex items-center justify-between px-4 py-2 bg-neutral-50 border-b border-neutral-200\">\n        <div className=\"flex items-center\">\n          <GitBranch className=\"h-4 w-4 text-neutral-500 mr-2\" />\n          <span className=\"text-sm font-medium text-neutral-700\">Changes</span>\n        </div>\n        <span className=\"text-xs text-neutral-500\">\n          {editor.diffs.length} change{editor.diffs.length !== 1 ? 's' : ''}\n        </span>\n      </div>\n      \n      <div className=\"flex-1 overflow-y-auto\">\n        {editor.diffs.map((diff, index) => (\n          <div\n            key={index}\n            className={`border-b border-neutral-100 p-3 ${getDiffColor(diff.type)}`}\n          >\n            <div className=\"flex items-start space-x-2\">\n              <div className=\"flex-shrink-0 mt-0.5\">\n                {getDiffIcon(diff.type)}\n              </div>\n              \n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-center space-x-2 mb-1\">\n                  <span className={`text-xs font-medium ${getDiffTextColor(diff.type)}`}>\n                    {diff.type.charAt(0).toUpperCase() + diff.type.slice(1)}\n                  </span>\n                  <span className=\"text-xs text-neutral-500\">\n                    Lines {diff.lineRange[0]}-{diff.lineRange[1]}\n                  </span>\n                </div>\n                \n                <div className=\"text-xs text-neutral-600 mb-2\">\n                  {diff.description}\n                </div>\n                \n                {diff.originalContent && (\n                  <div className=\"mb-2\">\n                    <div className=\"text-xs text-neutral-500 mb-1\">Original:</div>\n                    <div className=\"bg-neutral-100 rounded px-2 py-1 text-xs font-mono text-neutral-700\">\n                      {diff.originalContent}\n                    </div>\n                  </div>\n                )}\n                \n                {diff.modifiedContent && (\n                  <div>\n                    <div className=\"text-xs text-neutral-500 mb-1\">Modified:</div>\n                    <div className=\"bg-neutral-100 rounded px-2 py-1 text-xs font-mono text-neutral-700\">\n                      {diff.modifiedContent}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default DiffViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}